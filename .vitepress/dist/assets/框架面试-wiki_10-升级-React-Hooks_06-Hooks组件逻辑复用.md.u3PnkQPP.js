import{_ as o,c as a,o as e,a1 as i}from"./chunks/framework.BwTyoF0R.js";const u=JSON.parse('{"title":"Hooks 组件逻辑复用","description":"","frontmatter":{},"headers":[],"relativePath":"框架面试-wiki/10-升级-React-Hooks/06-Hooks组件逻辑复用.md","filePath":"框架面试-wiki/10-升级-React-Hooks/06-Hooks组件逻辑复用.md"}'),r={name:"框架面试-wiki/10-升级-React-Hooks/06-Hooks组件逻辑复用.md"},s=i('<h1 id="hooks-组件逻辑复用" tabindex="-1">Hooks 组件逻辑复用 <a class="header-anchor" href="#hooks-组件逻辑复用" aria-label="Permalink to &quot;Hooks 组件逻辑复用&quot;">​</a></h1><hr><h2 id="回顾之前-class-组件的逻辑复用" tabindex="-1">回顾之前 class 组件的逻辑复用 <a class="header-anchor" href="#回顾之前-class-组件的逻辑复用" aria-label="Permalink to &quot;回顾之前 class 组件的逻辑复用&quot;">​</a></h2><h3 id="mixin-已被废弃" tabindex="-1">mixin 已被废弃 <a class="header-anchor" href="#mixin-已被废弃" aria-label="Permalink to &quot;mixin 已被废弃&quot;">​</a></h3><p>相互依赖，相互耦合</p><ul><li>变量作用域不明确</li><li>属性重名</li><li>mixin 过多时的顺序冲突问题</li></ul><h3 id="高阶组件-hoc" tabindex="-1">高阶组件 HOC <a class="header-anchor" href="#高阶组件-hoc" aria-label="Permalink to &quot;高阶组件 HOC&quot;">​</a></h3><p>（回顾之前的 ppt 和代码）</p><p>HOC 的缺点：</p><ul><li>使用多了，导致组件层级嵌套过多，不易渲染，更不易调试</li><li>HOC 可以劫持 props ，需要严格遵守约定 （即，如果 HOC 没传或者传错了 props ，将会给子组件带来很大困扰）</li></ul><h3 id="render-props" tabindex="-1">render props <a class="header-anchor" href="#render-props" aria-label="Permalink to &quot;render props&quot;">​</a></h3><p>（回顾之前的 ppt 和代码）</p><p>缺点：</p><ul><li>有一定学习和理解成本 （这种方式，感觉很绕，并不是那么直白，而且一不小心就忘）</li><li>只能传函数组件 （而函数组件如果没有 hooks ，功能有限）</li></ul><hr><h2 id="使用-hooks-做组件逻辑复用" tabindex="-1">使用 Hooks 做组件逻辑复用 <a class="header-anchor" href="#使用-hooks-做组件逻辑复用" aria-label="Permalink to &quot;使用 Hooks 做组件逻辑复用&quot;">​</a></h2><p>无论是 mixin HOC 还是 render prop ，他们不是完美的解决方案，多少都会有一些令人费解或者困惑的地方。</p><p>其实用 Hooks 做组件逻辑复用，本质上就是自定义 Hook 。可先回顾自定义 Hook 的内容。</p><p>再对比之前的 HOC 和 render prop ，自定义 Hook 做一个鼠标位置的 demo 。参考 <code>useMousePosition.js</code> 代码。</p><ul><li>完全符合自定义 Hook 规则，没有其他要求，很好理解和记忆</li><li>变量作用域非常明确</li><li>不会产生组件嵌套</li></ul><p>（Vue3 Composition API 也是参照 Hooks 来设计的）</p>',21),l=[s];function t(n,p,h,c,d,k){return e(),a("div",null,l)}const H=o(r,[["render",t]]);export{u as __pageData,H as default};
